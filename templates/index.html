{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio | Surmonter{% endblock %}

{% block extra_head %}
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>

  </style>

{% if messages %}
<style>
  .toast-container {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    z-index: 9999;
  }
  .toast-message {
    background-color: #333;
    color: white;
    padding: 12px 16px;
    border-radius: 6px;
    margin-top: 8px;
    min-width: 200px;
    box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
    animation: fadeIn 0.3s ease, fadeOut 0.3s ease 4.5s;
    position: relative;
    overflow: hidden;
  }
  .toast-message.success { background-color: #28a745; }
  .toast-message.error { background-color: #dc3545; }
  .toast-message.warning { background-color: #ffc107; color: #000; }
  .toast-close {
    position: absolute;
    top: 6px;
    right: 8px;
    cursor: pointer;
    font-weight: bold;
    background: transparent;
    border: none;
    color: inherit;
    font-size: 1rem;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(20px); }
  }
</style>

<div class="toast-container">
  {% for message in messages %}
    <div class="toast-message {{ message.tags }}">
      {{ message }}
      <button class="toast-close" onclick="this.parentElement.style.display='none'">&times;</button>
    </div>
  {% endfor %}
</div>
{% endif %}

{% endblock %}

{% block content %}
<!-- üñºÔ∏è Carrusel -->
<div class="carousel">
  <div class="carousel-images">
    <img src="{% static 'img/carrusel-1.jpeg' %}" alt="Imagen 1">
    <img src="{% static 'img/carrusel-2.jpeg' %}" alt="Imagen 2">
    <img src="{% static 'img/carrusel-3.jpeg' %}" alt="Imagen 3">
  </div>
  <div class="carousel-indicators">
    <button data-index="0" class="active"></button>
    <button data-index="1"></button>
    <button data-index="2"></button>
  </div>
</div>

<!-- üõçÔ∏è Productos destacados -->
<h1 id="productos">Revisa nuestros productos</h1>
<main class="main-container">
  <div class="card">
    <img src="{% static 'img/producto-1.jpg' %}" alt="Descripci√≥n de la imagen 1" class="card-image">
    <div class="card-content">
      <h2>Polera Jap√≥n</h2>
      <p>Adidas Dragon Ball Z</p>
    </div>
  </div>
  <div class="card">
    <img src="{% static 'img/producto-2.jpg' %}" alt="Descripci√≥n de la imagen 2" class="card-image">
    <div class="card-content">
      <h2>Polera FcBarcelona</h2>
      <p>2024-2025</p>
    </div>
  </div>
  <div class="card">
    <img src="{% static 'img/producto-3.jpg' %}" alt="Descripci√≥n de la imagen 3" class="card-image">
    <div class="card-content">
      <h2>Polera Jap√≥n</h2>
      <p>Adidas Anime</p>
    </div>
  </div>
</main>

<!-- üìç Ubicaci√≥n -->
<section class="seccion-mapa">
  <h3>üìç Nuestra ubicaci√≥n</h3>
  <h1>Camilo Henr√≠quez 807, local 3 (2do piso), Valdivia</h1>
  <div class="mapa-embed">
    <iframe src="https://www.google.com/maps?q=Camilo+Henr√≠quez+807+Valdivia+Chile&output=embed"
      width="30%" height="200" style="border:0;" allowfullscreen loading="lazy"></iframe>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const carrusel = document.querySelector(".carousel-images");
    const indicadores = document.querySelectorAll(".carousel-indicators button");
    const imagenes = carrusel.querySelectorAll("img");
    let indiceActual = 0;

    function mostrarImagen(index) {
      carrusel.style.transform = `translateX(-${index * 100}%)`;
      indicadores.forEach(btn => btn.classList.remove("active"));
      if (indicadores[index]) indicadores[index].classList.add("active");
      indiceActual = index;
    }

    setInterval(() => {
      const siguiente = (indiceActual + 1) % imagenes.length;
      mostrarImagen(siguiente);
    }, 3000);

    indicadores.forEach(btn => {
      btn.addEventListener("click", () => {
        mostrarImagen(parseInt(btn.dataset.index));
      });
    });

    mostrarImagen(0);
  });
</script>

{% endblock %}


